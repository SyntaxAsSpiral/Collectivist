# üíÆ Collectivist

**AI-powered collection curator** for intentional collections. Transforms semantically coherent hoards into living documentation substrates with LLM-powered organization and curation.

**Not a general file organizer.** Collectivist shines on collections you care about enough to give them structure and meaning.

## üå± Features

- **Domain-specific intelligence**: Git metadata, ID3 tags, EXIF data, citations, and semantic understanding
- **Collection overview generation**: LLM-powered contextual summaries of complete collections
- **Curation that feels magical**: Context-aware organization based on actual intent
- **LLM-powered analysis**: Automatic categorization and rich description generation
- **Template-based rendering**: Deterministic output generation in multiple formats (Markdown, HTML, JSON)
- **Living documentation**: Auto-generated READMEs that become real knowledge artifacts
- **Portable install minimal mode**: Drop `.collection/` folder anywhere, works immediately
- **Multi-location configuration**: YAML and Markdown-embedded config with smart defaults
- **Multi-format outputs**: Markdown documentation, interactive HTML index, JSON export
- **Collection types**: Repositories, Obsidian vaults, documents, media files, research papers, creative projects, datasets

## Installation

### üß∫ Portable Install (Analyze + Index + Describe)
#### 1) Clone repo or download .zip from latest release. 

---

### üéÆ Standard Installation (Interactive UI + Curation Loop + Scheduling + Automation)
```bash
# Coming soon: pip install collectivist
# collectivist init ~/my-collection --standard
```
---

### ü§ñ Configuration

Configure LLM providers by renaming `llm-config.yaml.example` to `llm-config.yaml` and following the instructions to pick a backend + model.  


### ‚ö†Ô∏è Reinitialization Warning

Running `python .collection/src/__main__.py analyze` again will **reset your collection's schema evolution and curation history**. This action cannot be undone.

- **Use `analyze`** only for: First-time setup, major collection restructuring
- **Use `update`** for: Regular curation loop (preserves schema evolution)
- **Schema evolution** from the Curator is lost when re-analyzing

The curation loop is designed for continuous improvement - avoid reinitialization unless necessary!

## Collection Schema

#### Collection Types Auto-Detected
- **Repositories**: Git-aware scanning, commit summaries, category taxonomy
- **Research**: Citation extraction, topic clustering, reading status
- **Media**: Timeline organization, mood/genre inference, EXIF metadata
- **Creative**: Version tracking, asset linking, format intelligence
- **Datasets**: Schema inference, sample previews, data provenance
- **Documents**: Text extraction, metadata parsing, content analysis

The `collection.yaml` file defines your collection schema (generated by analyzer).

**Repository Collection Example:**
```yaml
collection_type: repositories
status: "‚úì"                    # Status glyph for up-to-date repos
name: my-repos
path: /path/to/repos
categories:
  - phext_hyperdimensional     # Multi-dimensional text systems
  - ai_llm_agents             # AI agents and LLM infrastructure
  - terminal_ui               # Terminal UI frameworks and components
  - creative_aesthetic        # Art, music, visualization tools
  - dev_tools                 # Development utilities and build tools
  - esoteric_experimental     # Experimental and occult systems
  - system_infrastructure     # System-level networking tools
  - utilities_misc            # General utilities and miscellaneous
exclude_hidden: true
scanner_config:
  always_pull: {}             # Repos to auto-pull: {repo_name: true}
  fetch_timeout: 30           # Git fetch timeout in seconds
```

**Media Collection Example:**
```yaml
collection_type: media
status: "üéµ"                   # Status glyph for media collections
name: my-media
path: /path/to/media
categories:
  - music_albums              # Full album collections
  - music_singles             # Individual tracks
  - video_movies              # Movie files
  - video_series              # TV series and episodes
  - images_photos             # Photography collections
  - images_artwork            # Digital art and graphics
exclude_hidden: true
scanner_config:
  extract_metadata: true      # Extract ID3, EXIF, etc.
  supported_formats:          # File extensions to scan
    audio: [".mp3", ".flac", ".wav", ".m4a"]
    video: [".mp4", ".mkv", ".avi", ".mov"]
    image: [".jpg", ".png", ".gif", ".webp"]
```

## üîå Plugin Architecture

**Built-in Plugin System:** Collectivist includes domain-specific plugins for different collection types. Plugins are automatically selected based on collection type detection during analysis.

**Available Plugins:**
- **repositories** - Git repository collections with metadata extraction and status tracking
- **media** - Media collections with ID3, EXIF, and video metadata extraction
- **documents** - Document collections with text extraction from PDFs, Office docs, and markdown files
- **research** - Research paper collections with citation extraction and reading status tracking
- **creative** - Creative project collections with version tracking and asset linking
- **datasets** - Dataset collections with schema inference and sample previews

**Plugin Discovery:** When you run `analyze`, Collectivist detects your collection type and automatically uses the appropriate plugin for metadata extraction and content analysis.

**Custom Plugins:** Implement the `CollectionScanner` interface. See existing plugins in `plugins/` directory for reference implementations.

## üîó Workflow Stages

### Stage 1: Analyzer

Inspects directory structure and determines collection type using LLM analysis.

```bash
python .collection/src/__main__.py analyze
# Creates collection.yaml with detected type and suggested categories
```

### Stage 2: Indexer

Discovers items and extracts metadata using domain-specific plugins.

```bash
# Run via pipeline (recommended)
python .collection/src/__main__.py update --skip-describe --skip-render
```

### Stage 3: Describer

Generates LLM descriptions and collection overview with concurrent workers.

```bash
python .collection/src/__main__.py describe

# Custom worker count
python .collection/src/__main__.py describe --workers 10
```

### Stage 4: Renderer

Transforms YAML index into formatted outputs using template-based generation.

```bash
python .collection/src/__main__.py render
# Generates README.md, Collection.html, and index.json
```

## Why This Approach?

General file organizers chase "never think about files again" but usually end up with mediocre generic sorting. Collectivist focuses on **intentional collections** where each item matters, enabling:

- **Depth over breadth**: Domain-specific intelligence instead of one-size-fits-all rules
- **Collection overview generation**: LLM analyzes complete collection data to create contextual summaries that capture the essence and patterns of your collection
- **Template-based rendering**: Deterministic output generation ensures consistent, reproducible documentation from structured data
- **Curation system**: Ongoing pattern learning and intelligent reorganization (standard level)
- **Documentation as artifact**: READMEs become real knowledge repositories with rich context and semantic understanding

## üìÖ Roadmap

### Complete: Minimal Level MVP
- **Portable-install drop-in system** - `.collection/` folder works anywhere
- **LLM-powered collection analysis** - Auto-detects repository, research, media, creative, dataset types
- **Domain-specific intelligence** - Git metadata, EXIF, citations, schema inference
- **Collection overview generation** - LLM-powered contextual summaries of complete collections
- **Template-based rendering** - Deterministic output in multiple formats (MD, HTML, JSON)
- **Multi-location configuration** - YAML and Markdown-embedded config with smart defaults
- **Self-contained architecture** - All code + deps in one folder

### Next: Standard Level (Schema Evolution)
- **Conservative schema evolution** - Curator analyzes ‚Üí evolves schema only when necessary
- **2-phase curation** - Phase 1 analyzes effectiveness, Phase 2 designs evolution (opt-in)
- **LLM provider management** - Enhanced configuration of models/providers

### Future: Package Manager & Extensions
- **Central distribution** - `pip install collectivist` convenience
- **Auto-scheduling** - Background updates and maintenance
- **Web UI enhancements** - Modern interface for schema evolution

## Contributing

Issues and PRs welcome! This is an exploration of collection-first AI curation.

## License

Private research tool - not for distribution.

---

*Infrastructure as palimpsest, data as compiled breath üúç*
